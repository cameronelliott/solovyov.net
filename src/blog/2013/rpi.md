title: Raspberry Pi
date: 2013-01-19
tags: hardware, linux, media
----

Прямо перед Новым Годом я себе сделал небольшой подарок - купил
[Raspberry Pi](http://raspberrypi.org/). У меня в голове не было какого-то
определëнного плана, что я буду с ним делать, но уж очень хотелось. ;)

Особенной любви к возне с железом у меня нет, поэтому рпи не открывает у меня
двери, не заведует светом и вообще не делает лишних движений - он служит
медиацентром. Так что тут я опишу, что я для этого купил и как вообще работает
результат.

Из железа: Raspberry Pi ($35), корпус для него ($7), USB-хаб с дополнительным
питанием - заодно служит блоком питания (200 грн/25$), вай-фай адаптер крошечных
размеров (100 грн/12$ главное сверить модель со [списком поддерживаемых][1]),
пара SD-карточек на 4 GB (65 грн/8$ за class 10), провод к телевизору (10 грн -
RCA, у моего телевизора нет HDMI), и клавиатура. Клавиатуру я сразу забыл,
кстати, и не мог даже вайфай настроить, поэтому по-быстрому купил какой-то ужас
за 65 грн в магазине под боком. Очень плохо, надо, наверное, купить что-то
беспроводное. А, и micro-USB кабель, которого у меня не было.

[1]: http://elinux.org/RPi_VerifiedPeripherals#Working_USB_Wi-Fi_Adapters

Короче, в итоге почти 100$, настоящее разорение - можно сэкономить, конечно,
когда отдельные вещи есть, и хаб не обязателен, но я решил, что всë равно еще
буду возиться, так что нет смысла париться.

Первым делом я скачал образ Raspbian'а (дебиана для рпи), воткнул, настроил
вайфай (ох, wpa_supplicant, забыл уже формат конфигов), обновил, поставил XBMC,
который безбожно тормозил. Даже если разогнать 700 МГц процессор до 900 МГц,
тормозит нереально, в меню переходы, как прыжок в [Portal][] на [Riva TNT][]
(это художественное сравнение, я таким не занимался).

[Portal]: http://uk.wikipedia.org/wiki/Portal
[Riva TNT]: http://en.wikipedia.org/wiki/Riva_TNT

Несколько дней возни, разные дистрибутивы - raspbmc, xbian - и я остановился на
OpenELEC'е, который стабильно работал и не тормозил. Вообще опыт сначала был не
самый приятный - я включил посмотреть один из первых сезонов Top Gear, и был
неприятно поражëн дичайшими тормозами - на Xvid рпи не хватило. :( Однако разгон
до 900 МГц всë исправил, и никаких проблем теперь нет. :) Ну и плюс все h264
играются с аппаратным ускорением и не тормозят никак.

XBMC кроме умения играть фильмы по самбе или еще как-то по сети, имеет плагины
для ютуба, ex.ua, по-моему даже рутрекера, но мне интереснее всего была
поддержка AirPlay. Меня уже задолбало слегка приходить домой и втыкать штекер от
колонок в ноут, а найти повода купить себе AirPort Express за $130, при уже
работающем вайфае я не нашëл.

Так вот с AirPlay'ем как-то всë хуже, чем могло быть. :( Во-первых, когда он
играет, на колонках слышно наводки, особенно если сделать погромче - в паузах
музыки. Во-вторых, иногда XBMC подвисает. Раз в пару-тройку дней. В-третьих,
самое напряжное, во время проигрывания музыки иногда возникают паузы. От 2 до 10
секунд. Короче, никакого кайфа пока что нет. :( Я, впрочем, надеюсь, что
понемногу всë улучшится, потому что во время проигрывания фильмов ничего такого
не наблюдается.

Энивей, это пока весь мой опыт. Я вот еще посматриваю в сторону подобных, но
более мощных девайсов, но что-то все китайские изделия запускают андроид, а не
полноценный линукс - что, очевидно, не очень интересно, что делать с этим
андроидом потом? Так бы я AFP запустил и устроил себе Time Machine. Подумываю
попробовать запустить его на рпи, но не уверен, будет ли оно мне тогда фильмы
играть. :D

Да, кстати, всплывал вопрос, а нужно ли всë это, когда можно купить готовый
медиа-сервер и не париться? Оставляя в стороне вторую часть вопроса (не факт,
что удастся не париться), все подобные девайсы идут с вентиляторами, а этот
абсолютно бесшумный. Ну и в целом, повозиться было прикольно, клëвая игрушка.
