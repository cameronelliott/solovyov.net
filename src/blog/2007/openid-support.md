title: Поддержка OpenID
date: 2007-08-19 15:15:58
tags: blog, news, openid, software
----


Что-то меня прям пробило на код. :-) 4 месяца ничего не трогал, а за последние два дня прям сделал выше всяких норм. :-) В общем, OpenID работает. Причём он привязан к собственной джанговой системе аутентификации.

При логине с новым опенидом предлагается либо создать нового пользователя, либо привязать этот опенид к существующему пользователю (только введя пароль, иначе никак :)). К одному пользователю, что естественно и удобно, может быть привязано несколько OpenID'шных аккаунтов.

При том же первом логине сервер просит у провайдера опенида никнейм и мыло пользователя, а если не отдаёт - пытается угадать его (ну, угадывание достаточно тупое - он просто берёт первую часть имени домена опенида, сделано это как воркэраунд для ЖЖ, которая не отдаёт ни под каким видом ничего).

P.S. Сама поддержка OpenID - это [django-openidconsumer][1] Саймона Виллисона с [патчем][2] Benoit'а Chesneau (ух, затрудняюсь это на русском написать ;))

P.P.S. Если будут замечены глюки или баги, просьба отписать в комментариях или создать новый тикет в [траке][3].

[1]: http://code.google.com/p/django-openid/
[2]: http://code.google.com/p/django-openid/issues/detail?id=9
[3]: http://trac.piranha.org.ua/
